<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Fire Robot Monitor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: Arial;
      background: #111;
      color: blue;
      text-align: center;
    }
    .card {
      background: #222;
      padding: 15px;
      margin: 10px;
      border-radius: 10px;
      font-size: 1.2em;
    }
    .indicator {
      display: inline-block;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      margin-left: 10px;
    }
    .pump-on { background: lime; }
    .pump-off { background: pink; }
    .flame-on { background: red; }
    .flame-off { background: lime; }
  </style>
</head>

<body>
  <h2>ðŸ”¥ Fire Extinguisher Robot Car ðŸ”¥</h2>

  <div class="card">ðŸŒ¡ Temperature: <span id="temp">--</span> Â°C</div>
  <div class="card">ðŸ’§ Humidity: <span id="hum">--</span> %</div>
  <div class="card">ðŸ’¨ Gas: <span id="gas">--</span></div>
  <div class="card">ðŸš° Pump: <span id="pump">--</span>
    <span id="pumpIndicator" class="indicator pump-off"></span>
  </div>
  <div class="card">ðŸš¨ Left Flame Sensor: <span id="flameL">--</span>
    <span id="flameLIndicator" class="indicator flame-off"></span>
  </div>
  <div class="card">ðŸš¨ Middle Flame Sensor: <span id="flameM">--</span>
    <span id="flameMIndicator" class="indicator flame-off"></span>
  </div>
  <div class="card">ðŸš¨ Right Flame Sensor: <span id="flameR">--</span>
    <span id="flameRIndicator" class="indicator flame-off"></span>
  </div>

<script>
const token = "stt741BpsULZDZYNOw-65khrw2WbnW0I";
const base = "https://sgp1.blynk.cloud/external/api/get?token=" + token;

function updateData(){
  // Temperature
  fetch(base + "&v6").then(r=>r.text()).then(t=>document.getElementById("temp").innerHTML=t);
  // Humidity
  fetch(base + "&v7").then(r=>r.text()).then(t=>document.getElementById("hum").innerHTML=t);
  // Gas
  fetch(base + "&v8").then(r=>r.text()).then(t=>document.getElementById("gas").innerHTML=t);
  // Pump
  fetch(base + "&v12").then(r=>r.text()).then(v=>{
    const pumpText = (v=="1") ? "ON" : "OFF";
    const pumpIndicator = document.getElementById("pumpIndicator");
    document.getElementById("pump").innerHTML = pumpText + " ";
    document.getElementById("pump").appendChild(pumpIndicator);
    if(v=="1"){
      pumpIndicator.className = "indicator pump-on";
    } else {
      pumpIndicator.className = "indicator pump-off";
    }
  });
  // Flame Sensors
  fetch(base + "&v9").then(r=>r.text()).then(v=>{
    const flameIndicator = document.getElementById("flameLIndicator");
    document.getElementById("flameL").innerHTML = (v=="1") ? "FIRE DETECTED " : "SAFE ";
    document.getElementById("flameL").appendChild(flameIndicator);
    flameIndicator.className = (v=="1") ? "indicator flame-on" : "indicator flame-off";
  });
  fetch(base + "&v10").then(r=>r.text()).then(v=>{
    const flameIndicator = document.getElementById("flameMIndicator");
    document.getElementById("flameM").innerHTML = (v=="1") ? "FIRE DETECTED " : "SAFE ";
    document.getElementById("flameM").appendChild(flameIndicator);
    flameIndicator.className = (v=="1") ? "indicator flame-on" : "indicator flame-off";
  });
  fetch(base + "&v11").then(r=>r.text()).then(v=>{
    const flameIndicator = document.getElementById("flameRIndicator");
    document.getElementById("flameR").innerHTML = (v=="1") ? "FIRE DETECTED " : "SAFE ";
    document.getElementById("flameR").appendChild(flameIndicator);
    flameIndicator.className = (v=="1") ? "indicator flame-on" : "indicator flame-off";
  });
}

// Update every 2 seconds
setInterval(updateData, 2000);
updateData();
</script>
</body>
</html>


